System.register(["./chunk-vendor.js","./chunk-frameworks.js"],function(){"use strict";var p,a,h,v,m,g,w;return{setters:[function(n){p=n.a,a=n.t,h=n.b,v=n.c,m=n.e},function(n){g=n.x,w=n.v}],execute:function(){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,b=(e,r)=>n(e,"name",{value:r,configurable:!0}),s=(e,r,i,o)=>{for(var l=o>1?void 0:o?f(r,i):r,u=e.length-1,c;u>=0;u--)(c=e[u])&&(l=(o?c(r,i,l):c(l))||l);return o&&l&&n(r,i,l),l};const d="data-node-id";let t=class extends HTMLElement{constructor(){super(...arguments);this.enabled=!1}connectedCallback(){this.update()}selectSuggestion({target:e}){const r=e.getAttribute("data-node-id"),i=e.getAttribute("data-name"),o=e.getAttribute("data-avatar-url");this.addReviewer({displayName:i,nodeId:r,avatarUrl:o})}approverToggled(){this.update()}addReviewer(e){if(this.autoComplete.value="",this.reviewers.some(i=>i.getAttribute(d)===e.nodeId))return;const r=new m(this.reviewerTemplate,{name:e.displayName,nodeId:e.nodeId,avatarUrl:e.avatarUrl});this.reviewerList.appendChild(r),this.update()}removeReviewer(e){var r,i;const o=(r=e.target.closest(".js-reviewer"))==null?void 0:r.getAttribute(d);o&&((i=this.reviewerList.querySelector(`[${d}='${o}']`))==null||i.remove(),this.update())}get minValidationMessage(){return this.getAttribute("min-reviewers-validation-message")}get maxReviewers(){return parseInt(this.getAttribute("max-reviewers")||"6",10)}validateWaitTime(){this.waitTime.validity.valid?this.waitGroup.classList.remove("errored"):(this.waitGroup.classList.add("errored"),g(this.waitNote))}update(){this.count.innerHTML=`${this.maxReviewers-this.reviewers.length}`,this.toggle.checked?(this.autoCompleteInput.disabled=this.reviewers.length>=this.maxReviewers,this.toggle.setCustomValidity(this.reviewers.length===0&&this.minValidationMessage||""),w(this.form)):this.toggle.setCustomValidity("")}};b(t,"ProtectionRulesElement"),s([a],t.prototype,"form",2),s([a],t.prototype,"autoComplete",2),s([a],t.prototype,"autoCompleteInput",2),s([a],t.prototype,"toggle",2),s([a],t.prototype,"reviewerTemplate",2),s([a],t.prototype,"reviewerList",2),s([h],t.prototype,"reviewers",2),s([a],t.prototype,"count",2),s([a],t.prototype,"waitGroup",2),s([a],t.prototype,"waitTime",2),s([a],t.prototype,"waitNote",2),t=s([v],t),p("click",".js-show-more-branches",function(e){const i=e.target.closest(".js-hidden-branches-container"),o=i.querySelector(".js-hidden-branches"),l=i.querySelector(".js-shown-branches");l&&(l.hidden=!0),o&&(o.hidden=!1)})}}});
//# sourceMappingURL=environment-settings-f0800511.js.map
